---
title: vue自定义入口html文件
date: 2025-08-07 15:13:48
permalink: /pages/9c4428/
categories:
  - 前端
  - 工具
tags:
  - 
---
#### vue2
在vue.config.js中添加如下配置
```js
module.exports = {
  pages: {
    index: {
      // 修改入口文件
      entry: 'src/main.js', // 入口文件路径
      template: 'public/custom.html', // 模板文件路径
      filename: 'index.html', // 输出文件名
    }
  }
}
```

#### vue3
在vite.config.js中添加`rollupOptions`配置
```js
// 自定义插件
const renameHtmlPlugin = () => {
  return {
    name: 'index.html',
    enforce: 'post',
    generateBundle(_, bundle) {
      if (bundle['custom.html']) {
        bundle['custom.html'].fileName = 'index.html';
      }
    },
  };
};
export default defineConfig(({ mode }) => {
  // 加载环境变量
  const env = loadEnv(mode, process.cwd())
	const isCustom = env.VITE_APP_CUSTOM 
  return {
    build: {
      outDir: 'dist', // 打包输出目录
      // 配置入口html
      rollupOptions: {
        input: isCustom ? '/custom.html' : '/index.html',
      },
    },
		plugins: [
			renameHtmlPlugin()
		]
	}
});
```
修改入口html后打包产物也是按`custom`命名的，这里我们需要把入口再重命名为`index.html`，如上，我们在`plugins`中添加自定义插件即可。