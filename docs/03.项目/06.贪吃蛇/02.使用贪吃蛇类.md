---
title: 使用贪吃蛇类
date: 2025-09-02 14:57:18
permalink: /pages/fc6c39/
categories:
  - 项目
  - 贪吃蛇
tags:
  - 
---
效果如下：
::: center
![snake](https://lhost.oss-cn-chengdu.aliyuncs.com/blog/snake.gif)
:::


```vue
<script setup lang="ts">
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { CellType, SnakeGame } from '@/utils/snake'

const snakeGame = ref<SnakeGame | null>(null)
const wSize = ref<number>(30)
const hSize = ref<number>(30)

const cellClass = computed(() => {
  return (cell, idx) => {
    return {
      'cell-wall': cell === CellType.Wall,
      'cell-snake': cell === CellType.Snake,
      'cell-snake-head': cell === CellType.Snake && snakeGame.value?.isFirst(idx),
      'cell-snack': cell === CellType.Snack
    }
  }
})



const initGame = () => {
  snakeGame.value = new SnakeGame(hSize.value, wSize.value)
}

initGame()
onMounted(() => {
  setTimeout(() => {
    snakeGame.value?.startGame()
  }, 2000)
}),

onUnmounted(() => {
  snakeGame.value?.endGame()
})

</script>

<template>
  <div class="playground">
    <div
      v-for="(cell, cIdx) in snakeGame?.renderGrid || []"
      :key="cIdx"
      class="cell"
      :class="cellClass(cell, cIdx)"
    ></div>
  </div>
</template>


<style lang="scss" scoped>
.playground {
  display: grid;
  grid-template-columns: repeat(v-bind(wSize), 1fr);
  gap: 1px;
  width: fit-content;
  .cell {
    display: inline-block;
    width: 16px;
    height: 16px;
    background: white;
    transition: all 0.1s;
    &-wall {
      background: red;
    }
    &-snake {
      background: green;
    }
    &-snake-head {
      border-radius: 35%;
    }
    &-snack {
      background: yellow;
    }
  }
}
</style>
```

#### 总结
花费大半天实现了一个贪吃蛇游戏，代码比较粗糙功能也比较少，后续有空会进一步优化，具体代码见：[snake代码](https://gitee.com/vuespell/snake)