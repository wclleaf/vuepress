---
title: 普通模式
date: 2025-09-01 14:56:15
permalink: /pages/5d96b8/
categories:
  - 项目
  - 井字棋
tags:
  - 
---
::: center
![tictactoe](https://lhost.oss-cn-chengdu.aliyuncs.com/blog/tictactoe.gif)
:::


* 定义长度为**9**的数组模拟棋盘
* 固定判赢路径：`[0, 1, 2],[3, 4, 5],[6, 7, 8],[0, 3, 6],[1, 4, 7],[2, 5, 8],[0, 4, 8],[2, 4, 6]`，数字为数组下标


```vue
<script setup>
import { ref } from 'vue'
const chessboard = ref([])
const player = ref('X')

// 落子
const playChess = (index) => {
  if (chessboard.value[index] === '') {
    chessboard.value[index] = player.value
    player.value = player.value === 'X' ? 'O' : 'X'
    const winner = isWin()
    if (winner) {
      alert(`Player ${winner} wins!`)
      initBoard()
    } else if(isEnd()) {
      alert('平局')
      initBoard()
    }
  }
}

// 检查游戏是否结束
const isWin = () => {
  // 固定八种获胜组合
  const winningCombinations = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6]
  ]
  for (const combination of winningCombinations) {
    const [a, b, c] = combination
    if (chessboard.value[a] && chessboard.value[a] === chessboard.value[b] && chessboard.value[a] === chessboard.value[c]) {
      return chessboard.value[a]
    }
  }
  return false
}

const isEnd = () => {
  return chessboard.value.every(v => v !== '')
}

// 初始化棋盘
const initBoard = () => {
  chessboard.value = Array(9).fill('')
  player.value = 'X'
}

initBoard()

</script>

<template>
  <div class="tictactoe">
    <div class="chessboard">
      <div
        v-for="(item, index) in chessboard"
        :key="index"
        class="chesspiece"
        :class="{ 'chesspiece--x': item === 'X', 'chesspiece--o': item === 'O', 'chesspiece--none': item === '' }"
        @click="playChess(index)"
        :data-player="player"
      >
        
      </div>
    </div>
  </div>
</template>

<style scoped lang="scss">
.tictactoe {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: #f5f5f5;
  .chessboard {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    .chesspiece {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 120px;
      height: 120px;
      border-radius: 10px;
      background: #78bec5;
      transition: all .3s;
      cursor: pointer;
      
      font-size: 70px;
      font-weight: bolder;
      color: white;
      text-shadow: 1px 1px 4px #ccc;
      &--none {
        &:hover {          
          background: #4f6d70;
        }
      }
      &--none[data-player="X"]:hover::after {
        content: '✖';
        color: rgb(201, 201, 201);
      }
      &--none[data-player="O"]:hover::after {
        content: '〇';
        color: rgb(201, 201, 201);
      }
      &--x {
        background: #DC685A;
        cursor: default;
        &::after {
          content: '✖';
          font-size: 70px;
          font-weight: bolder;
          color: white;
          text-shadow: 1px 1px 4px #ccc;
        }
      }
      &--o {
        background: #ECAF4F;
        cursor: default;
        &::after {
          content: '〇';
          font-size: 70px;
          font-weight: bolder;
          color: white;
          text-shadow: 1px 1px 4px #ccc;
        }
      }
    }
  }
  .chessboard--x {
    .chesspiece {
      &:hover::after {
        content: '✖';
        font-size: 70px;
        font-weight: bolder;
        color: rgb(192, 192, 192);
      }
    }
  }
  .chessboard--o {
    .chesspiece {
      &:hover::after {
        content: '〇';
        font-size: 70px;
        font-weight: bolder;
        color: rgb(192, 192, 192);
      }
    }
  }
}
</style>
```